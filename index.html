<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>All-in-One: Transactions + Pay/Request</title>

<style>
/* ---------- Global reset ---------- */
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  background: linear-gradient(135deg,#667eea 0%,#764ba2 100%);
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:flex-start;
  padding:24px;
  color:#111;
}

/* Phone container */
.app {
  width: 390px;
  background: #fff;
  border-radius: 28px;
  box-shadow: 0 30px 80px rgba(0,0,0,0.35);
  overflow: hidden;
  position: relative;
  max-height: 88vh;
  display: flex;
  flex-direction: column;
}

/* common status/header */
.status-bar {
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:12px 18px;
  font-size:14px;
  font-weight:600;
}

/* screen layout */
.screen {
  flex:1;
  overflow:auto;
  -webkit-overflow-scrolling:touch;
  background: white;
  padding-bottom: 24px;
}

/* === Transactions (screen home) === */
.search-bar { display:flex; align-items:center; padding:0 18px 16px; gap:12px; }
.search-input { flex:1; display:flex; align-items:center; background:#f5f5f5; border-radius:20px; padding:8px 12px; gap:8px; }
.search-input input { border:none; outline:none; background:none; flex:1; font-size:14px; color:#333; }
.grid-icon { padding:8px; color:#666; }

.transactions { padding: 0 18px 18px; }
.transaction-item { display:flex; align-items:flex-start; gap:12px; padding:14px 0; border-bottom:1px solid #f2f2f2; cursor:default; }
.transaction-item:last-child{border-bottom:none}
.avatar{width:44px;height:44px;border-radius:50%;overflow:hidden;flex-shrink:0;background:#ddd;display:flex;align-items:center;justify-content:center}
.avatar img{width:100%;height:100%;object-fit:cover}
.transaction-content{flex:1;min-width:0}
.transaction-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:4px}
.name{font-size:15px;font-weight:600;color:#000;cursor:pointer;text-decoration:underline dotted rgba(0,0,0,0.12)}
.amount{font-size:15px;font-weight:700}
.amount.positive{color:#00c851}
.amount.negative{color:#ff4444}
.transaction-time{font-size:13px;color:#999;margin-bottom:4px}
.transaction-description{font-size:14px;color:#666;margin-bottom:8px}
.transaction-actions{display:flex;gap:12px;align-items:center}

/* bottom nav */
.bottom-nav{display:flex;justify-content:space-around;align-items:center;padding:10px 0;border-top:1px solid #f0f0f0;background:white}
.nav-item{display:flex;flex-direction:column;align-items:center;gap:6px;color:#999;font-size:11px;cursor:pointer;padding:4px 8px}
.nav-item.active{color:#007aff}
.pay-request-icon{width:36px;height:36px;background:#007aff;border-radius:50%;display:flex;align-items:center;justify-content:center;color:white;font-weight:700;font-size:18px;cursor:pointer}

/* home indicator */
.home-indicator{width:120px;height:6px;background:#000;border-radius:3px;margin:10px auto 14px;opacity:0.2}

/* === Add Recipients screen (from your 5.html's Add Recipients) === */
.addrec-phone {
  width:100%;
  max-width:390px;
  margin:0 auto;
  background:white;
}
.addrec .status-bar{padding:10px 16px}
.header {display:flex;align-items:center;padding:12px 16px;border-bottom:1px solid #eee}
.back{font-size:20px;margin-right:12px;cursor:pointer}
.title{flex:1;font-size:18px;font-weight:700}
.menu{font-size:20px}
.search {padding:14px 16px}
.search input{width:100%;padding:12px;border-radius:10px;border:1px solid #ddd;font-size:15px}
.scan-box{display:flex;align-items:center;padding:14px 16px;border-bottom:1px solid #eee}
.scan-icon{width:52px;height:52px;border-radius:50%;background:#eaf3ff;display:flex;align-items:center;justify-content:center;margin-right:12px}
.scan-text span:first-child{display:block;font-weight:700}
.section-title{font-size:13px;color:#666;margin:12px 16px}
.list{padding-bottom:80px}
.contact{display:flex;align-items:center;padding:12px 16px}
.profile-img{width:48px;height:48px;border-radius:50%;margin-right:14px;object-fit:cover}
.profile-placeholder{width:48px;height:48px;border-radius:50%;margin-right:14px;font-size:18px;font-weight:700;background:#2C7EFC;color:white;display:flex;align-items:center;justify-content:center}
.contact-info .name{font-weight:700}
.contact-info .tag{font-size:13px;color:#777}
.add-btn{width:36px;height:36px;background:#2c7efc;color:white;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:20px;cursor:pointer}

/* footer */
.addrec-footer{position:sticky;bottom:0;background:white;padding:12px 16px;border-top:1px solid #eee;display:flex;gap:10px}
.btn{flex:1;padding:12px 14px;border-radius:10px;border:2px solid #2c7efc;background:transparent;color:#2c7efc;font-weight:700;text-align:center;cursor:pointer}
.btn:last-child{background:#2c7efc;color:white;border:none}

/* === Pay/Request screen (from your 5.html) === */
.pay-screen { width:100%; max-width:390px; margin:0 auto; background:white; padding-bottom:30px; min-height:540px; }
.pay-header { display:flex; justify-content:space-between; align-items:center; padding:12px 16px; border-bottom:1px solid #eee; }
.pay-header .title { font-weight:700; font-size:16px; }
.pay-user { padding:14px 16px; border-bottom:1px solid #f0f0f0; display:flex; justify-content:space-between; align-items:center; }
.pay-user .user-title { font-size:16px; color:#007aff; font-weight:700; }
.pay-user .amount { font-size:18px; color:#222; font-weight:700; }
.tab-bar { display:flex; background:#1e90ff; color:#fff; border-radius:8px; overflow:hidden; margin:12px 16px; }
.tab { flex:1; text-align:center; padding:10px; font-weight:700; cursor:pointer; user-select:none }
.tab.active { background:#1777d1; }
.calc { padding:14px 16px; background:#fff; }
.row { display:flex; gap:8px; margin-bottom:8px; }
.key { flex:1; border-radius:8px; padding:16px 0; text-align:center; font-size:22px; background:#fafafa; border:1px solid #eee; cursor:pointer; user-select:none }
.key:active{transform:scale(0.99)}
/* responsive */
@media (max-width:420px){
  .app{width:100%;border-radius:0;min-height:100vh}
}

/* === Success screen === */
.success-screen { width:100%; max-width:390px; margin:0 auto; background:white; padding:40px 20px; text-align:center; min-height:540px; display:flex; flex-direction:column; justify-content:center; align-items:center; }
.success-icon { width:80px; height:80px; background:#00c851; border-radius:50%; display:flex; align-items:center; justify-content:center; margin:0 auto 24px; }
.success-icon svg { width:50px; height:50px; stroke:white; stroke-width:3; }
.success-title { font-size:24px; font-weight:700; color:#000; margin-bottom:12px; }
.success-amount { font-size:32px; font-weight:700; color:#00c851; margin-bottom:8px; }
.success-recipient { font-size:18px; color:#666; margin-bottom:32px; }
.success-btn { background:#007aff; color:white; border:none; border-radius:10px; padding:14px 32px; font-size:16px; font-weight:700; cursor:pointer; margin-top:20px; }
.success-btn:active { transform:scale(0.98); }
.pay-button { background:#007aff; color:white; border:none; border-radius:12px; padding:16px; font-size:18px; font-weight:700; cursor:pointer; margin:20px 16px; }
.pay-button:active { transform:scale(0.98); }
.pay-button:disabled { background:#ccc; cursor:not-allowed; }

</style>
</head>

<body>

<div class="app" id="app">

  <!-- SCREEN: HOME / TRANSACTIONS -->
  <div class="screen" id="homeScreen" aria-hidden="false">

    <div class="status-bar">
      <span>9:00</span>
      <div style="display:flex;gap:8px;align-items:center">
        <span>üì∂</span><span>üîã</span>
      </div>
    </div>

    <div class="search-bar">
      <div class="search-input">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.35-4.35"></path></svg>
        <input id="mainSearch" placeholder="Find friends or businesses" />
      </div>
      <div class="grid-icon" title="grid">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="3" y="3" width="7" height="7"></rect>
          <rect x="14" y="3" width="7" height="7"></rect>
          <rect x="14" y="14" width="7" height="7"></rect>
          <rect x="3" y="14" width="7" height="7"></rect>
        </svg>
      </div>
    </div>

    <div class="transactions" id="transactionsList">
      <!-- TRANSACTIONS START
           (content taken from your uploaded aaa.html - preserved items)
           See file citation: Ó®Å2Ó®Ç
      -->
      <div class="transaction-item">
        <div class="avatar"><img src="https://images.pexels.com/photos/6645023/pexels-photo-6645023.jpeg?auto=compress&cs=tinysrgb&h=350" alt="Lisa"></div>
        <div class="transaction-content">
          <div class="transaction-header">
            <span class="name" data-name="Lisa Y">Lisa Y paid you</span>
            <span class="amount positive">+ $9.33</span>
          </div>
          <div class="transaction-time">1d</div>
          <div class="transaction-description">Lyft to store üè™</div>
          <div class="transaction-actions">
            <svg class="action-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>
          </div>
        </div>
      </div>

      <div class="transaction-item">
        <div class="avatar lyft-logo" style="background:#ff00bf;color:white;display:flex;align-items:center;justify-content:center;border-radius:50%"><div style="padding:8px;font-weight:700;color:white">lyft</div></div>
        <div class="transaction-content">
          <div class="transaction-header">
            <span class="name" data-name="Lyft">Lyft</span>
            <span class="amount negative">- $18.66</span>
          </div>
          <div class="transaction-time">3m</div>
          <div class="transaction-actions">
            <span class="action-text" style="color:#007aff;cursor:pointer">Split</span>
            <span class="action-text" style="color:#007aff;cursor:pointer">Share</span>
          </div>
        </div>
      </div>

      <div class="transaction-item">
        <div class="avatar"><img src="https://images.pexels.com/photos/6645023/pexels-photo-6645023.jpeg?auto=compress&cs=tinysrgb&h=350" alt="Lisa"></div>
        <div class="transaction-content">
          <div class="transaction-header">
            <span class="name" data-name="Lisa Y">Lisa Y paid you</span>
            <span class="amount positive">+ $32.00</span>
          </div>
          <div class="transaction-time">1d</div>
          <div class="transaction-description">üçï üçî ‚òï</div>
        </div>
      </div>

      <!-- More items preserved from your file (truncated visually here but you can paste your full content if you want exact one-to-one) -->
      <!-- Additional example items from your file: -->
      <div class="transaction-item">
        <div class="avatar"><img src="https://images.pexels.com/photos/31660598/pexels-photo-31660598.jpeg?auto=compress&cs=tinysrgb&h=350" alt="Dustin"></div>
        <div class="transaction-content">
          <div class="transaction-header">
            <span class="name" data-name="Dustin R">Dustin R paid you</span>
            <span class="amount positive">+ $10.51</span>
          </div>
          <div class="transaction-time">1d</div>
          <div class="transaction-description">Lyft ride and coffee</div>
        </div>
      </div>

      <div class="transaction-item">
        <div class="avatar"><img src="https://images.pexels.com/photos/31660598/pexels-photo-31660598.jpeg?auto=compress&cs=tinysrgb&h=350" alt="Dustin"></div>
        <div class="transaction-content">
          <div class="transaction-header">
            <span class="name" data-name="Dustin R">You paid Dustin R</span>
            <span class="amount negative">- $41.57</span>
          </div>
          <div class="transaction-time">2d</div>
          <div class="transaction-description">Groceries</div>
        </div>
      </div>

    </div> <!-- .transactions -->

    <div class="bottom-nav">
      <div class="nav-item active">Home</div>
      <div class="nav-item">Cards</div>
      <div class="nav-item"><div class="pay-request-icon" id="openPayButton">V</div><div style="font-size:11px">Pay/Request</div></div>
      <div class="nav-item">Crypto</div>
      <div class="nav-item">Me</div>
    </div>

    <div class="home-indicator"></div>

  </div> <!-- end homeScreen -->

  <!-- SCREEN: ADD RECIPIENTS (from aaa.html's screen2 content) -->
  <div class="screen" id="addRecipientsScreen" style="display:none" aria-hidden="true">

    <div class="status-bar">
      <span>9:41</span>
      <div style="display:flex;gap:8px;align-items:center">üì∂ üîã</div>
    </div>

    <div class="header">
      <div class="back" id="recBack">‚Üê</div>
      <div class="title">Add Recipients</div>
      <div class="menu">‚ò∞</div>
    </div>

    <div class="search">
      <input id="recSearch" placeholder="Name, @username, phone, or email" oninput="onRecSearch()" />
    </div>

    <div class="scan-box">
      <div class="scan-icon">
        <svg viewBox="0 0 24 24" width="22" height="22"><path d="M3 3h8v8H3V3zm2 2v4h4V5H5zm12-2h4a2 2 0 0 1 2 2v4h-2V5h-4V3zm6 10h-2v2h2v-2zm-2 4h2v4h-4v-2h2v-2zM3 13h2v2H3v-2zm4 0h2v4H5v-2h2v-2zm4 0h2v2h-2v-2zm6 0h-2v2h2v-2zm-2 4h-2v2h2v-2z"/></svg>
      </div>
      <div class="scan-text">
        <span>Scan or show QR code</span>
        <span style="font-size:12px;color:#555">Quickly pay or request money.</span>
      </div>
    </div>

    <div class="section-title">Top People</div>

    <div class="list" id="contactList"></div>

    <div class="addrec-footer">
      <div class="btn">Split Evenly</div>
      <div class="btn">Share Bill</div>
    </div>

  </div> <!-- end addRecipientsScreen -->

  <!-- SCREEN: PAY / REQUEST (from 5.html content) -->
  <div class="screen" id="payScreen" style="display:none" aria-hidden="true">

    <div class="pay-screen">
      <div class="pay-header">
        <div style="display:flex;align-items:center;gap:12px">
          <div class="back" id="payBack" title="Back">‚Üê</div>
          <div class="title">Pay or Request</div>
        </div>
        <div style="width:40px"></div>
      </div>

      <div class="pay-user">
        <div>
          <div class="user-title" id="payRecipient">Recipient</div>
          <div style="font-size:13px;color:#666">What‚Äôs it for?</div>
        </div>
        <div class="amount" id="payAmount">$0</div>
      </div>

      <div class="tab-bar" role="tablist" aria-label="Pay or request">
        <div class="tab active" id="reqTab" onclick="switchTab('reqTab')">Request</div>
        <div class="tab" id="payTab" onclick="handlePayTab()">Pay</div>
      </div>

      <div class="calc" id="calculatorArea">
        <div style="margin:8px 0 12px 0;color:#777;font-size:13px;padding:0 2px">Tap numbers to set amount</div>

        <div class="row">
          <div class="key" onclick="press('1')">1</div>
          <div class="key" onclick="press('2')">2</div>
          <div class="key" onclick="press('3')">3</div>
        </div>
        <div class="row">
          <div class="key" onclick="press('4')">4</div>
          <div class="key" onclick="press('5')">5</div>
          <div class="key" onclick="press('6')">6</div>
        </div>
        <div class="row">
          <div class="key" onclick="press('7')">7</div>
          <div class="key" onclick="press('8')">8</div>
          <div class="key" onclick="press('9')">9</div>
        </div>
        <div class="row">
          <div class="key" onclick="press('.')">.</div>
          <div class="key" onclick="press('0')">0</div>
          <div class="key" onclick="backspace()">‚å´</div>
        </div>

      </div>



    </div>

  </div> <!-- end payScreen -->


  <!-- SCREEN: SUCCESS -->
  <div class="screen" id="successScreen" style="display:none" aria-hidden="true">
    
    <div class="status-bar">
      <span>9:00</span>
      <div style="display:flex;gap:8px;align-items:center">
        <span>üì∂</span><span>üîã</span>
      </div>
    </div>

    <div class="success-screen">
      <div class="success-icon">
        <svg viewBox="0 0 24 24" fill="none">
          <path d="M20 6L9 17l-5-5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </div>
      
      <div class="success-title">Payment Successful!</div>
      <div class="success-amount" id="successAmount">$0.00</div>
      <div class="success-recipient">sent to <strong id="successRecipient">Recipient</strong></div>
      
      <div style="margin-top:20px;padding:20px;background:#f8f8f8;border-radius:12px;max-width:300px;">
        <div style="font-size:14px;color:#666;margin-bottom:8px;">Your payment is on its way</div>
        <div style="font-size:13px;color:#999;">The recipient will be notified shortly</div>
      </div>

      <button class="success-btn" onclick="backToHome()">Done</button>
    </div>

  </div> <!-- end successScreen -->

</div> <!-- end app -->


<script>
/* ---------- Data used in Add Recipients (copied from your uploaded 5.html data) */
const topPeople = [
  { name: "Dwight Schrute", tag: "@battlestargalactica", img: "https://i.pravatar.cc/150?img=1" },
  { name: "Cynthia Hoang", tag: "@cynthiahoang", img: "https://i.pravatar.cc/150?img=2" },
  { name: "Daniel Rigamer", tag: "@danielrigamer", img: "https://i.pravatar.cc/150?img=3" },
  { name: "Monica Han", tag: "@monicahan", img: "https://i.pravatar.cc/150?img=4" },
  { name: "Michael Scott", tag: "@worldsbestboss", img: "https://i.pravatar.cc/150?img=5" },
  { name: "Winston Bishop", tag: "@catdaddy", img: "https://i.pravatar.cc/150?img=6" },
  { name: "Drake Graham", tag: "@itsnotaubrey", img: "https://i.pravatar.cc/150?img=7" },
  { name: "Justin Bieber", tag: "@obsessedwithhailey", img: "https://i.pravatar.cc/150?img=8" }
];

/* ---------- Helper: show/hide screens ---------- */
function showScreen(idToShow){
  const screens = ['homeScreen','addRecipientsScreen','payScreen','successScreen'];
  screens.forEach(id => {
    const el = document.getElementById(id);
    if(!el) return;
    if(id === idToShow){
      el.style.display = 'block';
      el.setAttribute('aria-hidden','false');
    } else {
      el.style.display = 'none';
      el.setAttribute('aria-hidden','true');
    }
  });
}

/* ---------- Wire up nav buttons ---------- */
document.getElementById('openPayButton').addEventListener('click', function(){
  // Open Add Recipients screen (as in original)
  showScreen('addRecipientsScreen');
});

document.getElementById('recBack').addEventListener('click', function(){
  showScreen('homeScreen');
});

document.getElementById('payBack').addEventListener('click', function(){
  // return to home (you can change to addRecipientsScreen if desired)
  showScreen('homeScreen');
});

/* ---------- Render contacts for Add Recipients ---------- */
function renderList(list){
  const container = document.getElementById('contactList');
  container.innerHTML = '';
  list.forEach(person => {
    let avatarHTML = '';
    if(person.img){
      avatarHTML = `<img class="profile-img" src="${person.img}" alt="${escapeHtml(person.name)}">`;
    } else {
      const initials = (person.name || '').split(' ').map(s=>s[0]||'').slice(0,2).join('').toUpperCase();
      avatarHTML = `<div class="profile-placeholder">${initials}</div>`;
    }
    const html = document.createElement('div');
    html.className = 'contact';
    html.innerHTML = `
      ${avatarHTML}
      <div class="contact-info" style="flex:1">
        <div class="name">${escapeHtml(person.name)}</div>
        <div class="tag">${escapeHtml(person.tag || '')}</div>
      </div>
      <div class="add-btn" data-name="${escapeAttr(person.name)}">+</div>
    `;
    container.appendChild(html);
  });

  // make add buttons open pay screen with that recipient
  container.querySelectorAll('.add-btn').forEach(btn => {
    btn.addEventListener('click', function(){
      const name = this.getAttribute('data-name') || 'Recipient';
      openPayFor(name);
    });
  });
}

function onRecSearch(){
  const val = document.getElementById('recSearch').value.trim().toLowerCase();
  if(val === '') { renderList(topPeople); return; }
  const matches = topPeople.filter(p => (p.name || '').toLowerCase().includes(val) || (p.tag||'').toLowerCase().includes(val));
  if(matches.length) renderList(matches);
  else {
    renderList([{ name: val, tag: 'No match found' }]);
  }
}
renderList(topPeople);

/* ---------- Search in main transactions list ---------- */
document.getElementById('mainSearch').addEventListener('input', function(){
  const term = this.value.trim().toLowerCase();
  const items = document.querySelectorAll('#transactionsList .transaction-item');
  items.forEach(item => {
    const nameEl = item.querySelector('.name');
    const descEl = item.querySelector('.transaction-description');
    const nameText = nameEl ? nameEl.textContent.toLowerCase() : '';
    const descText = descEl ? descEl.textContent.toLowerCase() : '';
    if(nameText.includes(term) || descText.includes(term) || term === ''){
      item.style.display = 'flex';
    } else {
      item.style.display = 'none';
    }
  });
});

/* ---------- Clicking a username should open the pay screen (this is your request) ---------- */
document.querySelectorAll('.transaction-item .name').forEach(el => {
  el.addEventListener('click', function(e){
    e.stopPropagation();
    const targetName = this.getAttribute('data-name') || this.textContent.trim();
    openPayFor(targetName);
  });
});

/* ---------- When user clicks recipient or transaction username: open Pay screen and set name ---------- */
function openPayFor(name){
  // populate recipient name
  document.getElementById('payRecipient').textContent = name;
  // reset amount
  current = '';
  updatePayAmount();
  // show pay screen
  showScreen('payScreen');
}

/* ---------- Calculator logic (from 5.html) ---------- */
let current = "";
function updatePayAmount(){
  const amt = current === "" ? "0" : current;
  // ensure at most two decimal places for display
  if(amt.includes('.')){
    const parts = amt.split('.');
    current = parts[0] + (parts[1] ? '.' + parts[1].slice(0,2) : '');
  }
  document.getElementById('payAmount').innerText = '$' + (current === '' ? '0' : current);
}
function press(val){
  if(val === '.' && current.includes('.')) return;
  // prevent more than one leading zero before decimal
  if(current === '0' && val === '0') return;
  // prevent leading zeros like "00"
  if(current === '0' && val !== '.') current = val;
  else current += val;
  // limit length
  if(current.length > 12) current = current.slice(0,12);
  updatePayAmount();
}
function backspace(){
  current = current.slice(0,-1);
  updatePayAmount();
}

/* ---------- Tabs behavior ---------- */
function switchTab(tab){
  document.getElementById('reqTab').classList.remove('active');
  document.getElementById('payTab').classList.remove('active');
  document.getElementById(tab).classList.add('active');
}

/* ---------- Handle Pay Tab Click ---------- */
function handlePayTab(){
  // If already on Pay tab, process the payment
  if(document.getElementById('payTab').classList.contains('active')){
    processPay();
  } else {
    // Otherwise, just switch to Pay tab
    switchTab('payTab');
  }
}

/* ---------- Utility helpers ---------- */
function escapeHtml(str){
  if(!str) return '';
  return String(str).replace(/[&<>"']/g, function(m){ return ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'})[m]; });
}
function escapeAttr(s){ return escapeHtml(s).replace(/"/g,'&quot;'); }

/* ---------- Small UI niceties: clickable transaction icons ---------- */
document.querySelectorAll('.action-text, .action-icon').forEach(node=>{
  node.addEventListener('click', function(e){
    e.stopPropagation();
    // subtle tap effect
    const original = this.style.color || '';
    this.style.color = '#007aff';
    setTimeout(()=> this.style.color = original, 200);
  });
});

/* Optionally: open pay screen via Pay/Request center (already opens addRecipients by default)
   If you'd prefer clicking the big V to open the Pay screen directly, you can:
   document.getElementById('openPayButton').addEventListener('click', ()=> showScreen('payScreen'));
*/


/* ---------- Process Payment ---------- */
function processPay(){
  const recipient = document.getElementById('payRecipient').textContent;
  const amount = current;
  
  // Validate amount
  if(!amount || amount === '' || parseFloat(amount) <= 0){
    alert('Please enter an amount greater than $0');
    return;
  }
  
  // Validate recipient
  if(!recipient || recipient === 'Recipient'){
    alert('Please select a recipient');
    return;
  }
  
  // Get active tab to determine if it's Pay or Request
  const isPayTab = document.getElementById('payTab').classList.contains('active');
  
  // Set success screen data
  document.getElementById('successAmount').textContent = '$' + amount;
  document.getElementById('successRecipient').textContent = recipient;
  
  // Show success screen
  showScreen('successScreen');
  
  // Reset the pay form
  current = '';
  updatePayAmount();
}

function backToHome(){
  showScreen('homeScreen');
  // Reset pay screen
  document.getElementById('payRecipient').textContent = 'Recipient';
  current = '';
  updatePayAmount();
}

</script>

</body>
</html>
